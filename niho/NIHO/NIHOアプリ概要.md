
## 目的
シェアリビングNIHO用の会員管理アプリを制作する

  
## 現状の方法
・既製品のLINEミニアプリを使っている

## 理想状態
- スタッフ不在でも顧客の利用が可能（完全自律状態の実現）
- 本システムを他の顧客に外販する

### 現状の課題


- 重要
	- チェックインの時に二重読み込みが発生する
		- LINEのチェックイン画面を閉じないままに再度別アプリを開いてから戻ってくると、同じ信号が送られて2回目のチェックインとなってしまったりする
	- 友達招待を利用時間に反映できない
	- チェックインでの利用時間記録と、顧客ごとの利用済み時間が連携していないので、手動入力が必要
	- サブスクプランの購入と会員ランクが紐づかない
- サブ
	- サブスクを購入する時に毎回カード情報が記憶されずに入力必須になる
		- たしかLIFFの仕様上の問題（毎回初期化する仕様になってたはず）




### 組み込む機能・改善策

・
- チェックイン時に二重読み込みが発生しないようにする
- チェックイン画面で友達招待を入力できる。月額非会員でも簡易に利用時間の記録を可能に
- チェックインの利用時間を顧客ごとの利用済み時間に連携させる
- サブスクプランを購入すると顧客の会員ランクが変更される
- カード決済時は、StripeのカスタマーID（Customer ID）を利用し、ユーザーのカード情報をStripe側で管理する

・


現状と今後

|                      | 現状                       | 今後（v1)  | その次（v2) |
| -------------------- | ------------------------ | ------- | ------- |
| 月間利用時間計算             | 手動<br>（個別記録をもとに合計を計算）    | 自動      |         |
| サブスク購入・変更に紐づく会員ランク変更 | 手動<br>（購入履歴を見て手動でランクを変更） | 自動      |         |
| QRでのチェックイン・アウトの管理    | エラーが時々発生                 | エラーをなくす |         |
| 友達招待<br>（友達          | スタッフの目視・手入力              |         |         |

|                                | 現状                       | 今回(v1)             | その次(v2) |
| ------------------------------ | ------------------------ | ------------------ | ------- |
| 月間利用時間計算                       | 手動<br>（個別記録をもとに合計を計算）    | 自動                 |         |
| サブスク購入・変更に紐づく会員ランク変更           | 手動<br>（購入履歴を見て手動でランクを変更） | 自動                 |         |
| QRでのチェックイン・アウトの管理              | エラーが時々発生                 | エラーをなくす            |         |
| 友達招待<br>（友達の利用時間記録）            | スタッフの目視・手入力              | ゲストもチェックイン・招待者に紐付け |         |
| 超過分の月末の請求                      | 手動                       | 手動                 | 自動      |
| 交流創発機能<br>（今拠点にいる利用者の自動での紹介など） |                          |                    | 実装      |

  

### 基本機能
・
- 会員管理
	- 顧客名・住所登録
	- 利用可能時間・利用済み時間
- 利用時間管理機能
	- 施設内のQRを読み込むことでチェックイン・チェックアウト
- サブスク購入・変更
	- Stripeと連携
	- 購入すると会員ランクが変更

### 準必須機能

- EC機能
	- Stripeと連携
	- 貸切料金などを支払う
		- 
- 決済

### 将来機能案
- 利用予約/カレンダー自動入力
- 現地の状況可視化
	- カメラ連携＆状況可視化ページに記載
- イベントカレンダー
- サブスク購入機能の充実
	-  商品決済方法の選択
		- 決済日を特定の日にちに
		- 日割りでの支払い可能に
- 交流創発機能の組み込み
	- 今施設内にいる人の顧客データを抽出し、それを他のチェックインしている人に可視化する
- プラン設定
	-  利用時間単位設定
		- 1日/1時間/1分と単位を設定可能
		- 自動決済


### 機能詳細
- サブスク購入
	- サブスクのプランを作成して、購入してもらえる
		- 項目は以下
			- プラン名・説明・金額・
			- 利用可能時間
		- プランの切り替えも可能
	- 

/table 

/table


### 手順


- 作りたいもののガワをまとめる
- 機能要件を整理
- UIを整理
	- 画面構成
- 実装する
- テストする
- - [ ] 
- [ ]


- [ ] aa
- [ ] 


## 備考
-
- 他の人が使うにはどうなったら良いか？
	- 欲しい機能
		- 顧客管理
		- 利用時間管理
			- 自動決済
		- サブスク購入
			- まずは利用時間
		- EC決済
		- 利用予約
		- カレンダー連携
		- 現在状況可視化
		- 簡易LP
		- スマートロック連携
			- 誰が入ったか
	- 画面遷移
		- ユーザー
			- LINEチャット画面
				- 会員証
				- 
		- ホスト
			- ブラウザダッシュボード
				- 顧客一覧
				- 利用時間一覧
				- サブスク商品
				- EC商品
				- カレンダー連携
				- 現在状況
				- プロフィール登録
	- 将来欲しい機能
		- 検索
		- コミュニティチャット
	- 検討事項
		- LINEミニアプリで実行する場合は、個人で開く場合などに、LINE公式アカウントを作れないので使えない